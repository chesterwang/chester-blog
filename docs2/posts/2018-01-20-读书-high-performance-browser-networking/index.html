<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/chester-blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=chester-blog/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking | Chester&#39;s Blog</title>
<meta name="keywords" content="è¯»ä¹¦">
<meta name="description" content="note Networking 101 Primer on Latency and Bandwidth Speed Is a Feature latency: The time from the source sending a packet to the destination receiving it Bandwidth: Maximum throughput of a logical or physical communication path network data rates: Network data rates are typically measured in bits per second (bps), whereas data rates for non-network equipment are typically shown in bytes per second (Bps). This is a common source of confusion, pay close attention to the units. For example, to put a 10 megabyte (MB) file &ldquo;on the wire&rdquo; over a 1Mbps link, we will need 80 seconds. 10MB is equal to 80Mb because there are 8 bits for every byte! The Many Components of Latency https://en.wikipedia.org/wiki/List_of_device_bit_rates Speed of Light and Propagation Latency CDN: Content delivery network (CDN) services provide many benefits, but chief among them is the simple observation">
<meta name="author" content="ä½œè€…:lvbibir">
<link rel="canonical" href="http://localhost:1313/chester-blog/posts/2018-01-20-%E8%AF%BB%E4%B9%A6-high-performance-browser-networking/">
<link crossorigin="anonymous" href="/chester-blog/assets/css/stylesheet.a3b4d2cae219ae904272a1beae2d019e95573341f245e12d4effba204604461c.css" integrity="sha256-o7TSyuIZrpBCcqG&#43;ri0BnpVXM0HyReEtTv&#43;6IEYERhw=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/chester-blog/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://image.lvbibir.cn/blog/avatar.webp">
<link rel="icon" type="image/png" sizes="16x16" href="https://image.lvbibir.cn/blog/avatar.webp">
<link rel="icon" type="image/png" sizes="32x32" href="https://image.lvbibir.cn/blog/avatar.webp">
<link rel="apple-touch-icon" href="https://image.lvbibir.cn/blog/avatar.webp">
<link rel="mask-icon" href="https://image.lvbibir.cn/blog/avatar.webp">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/chester-blog/posts/2018-01-20-%E8%AF%BB%E4%B9%A6-high-performance-browser-networking/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css" integrity="sha384-WcoG4HRXMzYzfCgiyfrySxx90XSl2rxY5mnVY5TwtWE6KLrArNKn0T/mOgNL0Mmi" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js" integrity="sha384-J+9dG2KMoiR9hqcFao0IBLwxt6zpcyN68IgwzsCSkbreXUjmNVRhPFTssqdSGjwQ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script><meta property="og:title" content="å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking" />
<meta property="og:description" content="note Networking 101 Primer on Latency and Bandwidth Speed Is a Feature latency: The time from the source sending a packet to the destination receiving it Bandwidth: Maximum throughput of a logical or physical communication path network data rates: Network data rates are typically measured in bits per second (bps), whereas data rates for non-network equipment are typically shown in bytes per second (Bps). This is a common source of confusion, pay close attention to the units. For example, to put a 10 megabyte (MB) file &ldquo;on the wire&rdquo; over a 1Mbps link, we will need 80 seconds. 10MB is equal to 80Mb because there are 8 bits for every byte! The Many Components of Latency https://en.wikipedia.org/wiki/List_of_device_bit_rates Speed of Light and Propagation Latency CDN: Content delivery network (CDN) services provide many benefits, but chief among them is the simple observation" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/chester-blog/posts/2018-01-20-%E8%AF%BB%E4%B9%A6-high-performance-browser-networking/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-20T12:18:32+00:00" />
<meta property="article:modified_time" content="2018-01-20T12:18:32+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking"/>
<meta name="twitter:description" content="note Networking 101 Primer on Latency and Bandwidth Speed Is a Feature latency: The time from the source sending a packet to the destination receiving it Bandwidth: Maximum throughput of a logical or physical communication path network data rates: Network data rates are typically measured in bits per second (bps), whereas data rates for non-network equipment are typically shown in bytes per second (Bps). This is a common source of confusion, pay close attention to the units. For example, to put a 10 megabyte (MB) file &ldquo;on the wire&rdquo; over a 1Mbps link, we will need 80 seconds. 10MB is equal to 80Mb because there are 8 bits for every byte! The Many Components of Latency https://en.wikipedia.org/wiki/List_of_device_bit_rates Speed of Light and Propagation Latency CDN: Content delivery network (CDN) services provide many benefits, but chief among them is the simple observation"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "ğŸ“š æ–‡ç« ",
      "item": "http://localhost:1313/chester-blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking",
      "item": "http://localhost:1313/chester-blog/posts/2018-01-20-%E8%AF%BB%E4%B9%A6-high-performance-browser-networking/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking",
  "name": "å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking",
  "description": "note Networking 101 Primer on Latency and Bandwidth Speed Is a Feature latency: The time from the source sending a packet to the destination receiving it Bandwidth: Maximum throughput of a logical or physical communication path network data rates: Network data rates are typically measured in bits per second (bps), whereas data rates for non-network equipment are typically shown in bytes per second (Bps). This is a common source of confusion, pay close attention to the units. For example, to put a 10 megabyte (MB) file \u0026ldquo;on the wire\u0026rdquo; over a 1Mbps link, we will need 80 seconds. 10MB is equal to 80Mb because there are 8 bits for every byte! The Many Components of Latency https://en.wikipedia.org/wiki/List_of_device_bit_rates Speed of Light and Propagation Latency CDN: Content delivery network (CDN) services provide many benefits, but chief among them is the simple observation",
  "keywords": [
    "è¯»ä¹¦"
  ],
  "articleBody": "note Networking 101\nPrimer on Latency and Bandwidth Speed Is a Feature latency: The time from the source sending a packet to the destination receiving it Bandwidth: Maximum throughput of a logical or physical communication path network data rates: Network data rates are typically measured in bits per second (bps), whereas data rates for non-network equipment are typically shown in bytes per second (Bps). This is a common source of confusion, pay close attention to the units. For example, to put a 10 megabyte (MB) file â€œon the wireâ€ over a 1Mbps link, we will need 80 seconds. 10MB is equal to 80Mb because there are 8 bits for every byte! The Many Components of Latency https://en.wikipedia.org/wiki/List_of_device_bit_rates Speed of Light and Propagation Latency CDN: Content delivery network (CDN) services provide many benefits, but chief among them is the simple observation that distributing the content around the globe, and serving that content from a nearby location to the client, enables us to significantly reduce the propagation time of all the data packets. We may not be able to make the packets travel faster, but we can reduce the distance by strategically positioning our servers closer to the users! Leveraging a CDN to serve your data can offer significant performance benefits. Last- Mile Latency Bandwidth in Core Networks Bandwidth at the Network Edge Delivering Higher Bandwidth and Lower Latencies Building Blocks of TCP introduction The HTTP standard does not mandate TCP as the only transport protocol. If we wanted, we could deliver HTTP via a datagram socket (User Datagram Protocol or UDP), or any other transport protocol of our choice, but in practice all HTTP traffic on the Internet today is delivered via TCP due to the many great and convenient features it provides out of the box. Three- Way Handshake Congestion Avoidance and Control Bandwidth- Delay Product Head- of- Line Blocking Optimizing for TCP Performance Checklist Optimizing TCP performance pays high dividends, regardless of the type of application, for every new connection to your servers. A short list to put on the agenda: Upgrade server kernel to latest version. Ensure that cwnd size is set to 10. Ensure that window scaling is enabled. Disable slow-start after idle. Investigate enabling TCP Fast Open. Eliminate redundant data transfers. Compress transferred data. Position servers closer to the user to reduce roundtrip times. Reuse TCP connections whenever possible. Investigate â€œTCP Tuning for HTTPâ€ recommendations. Building Blocks of UDP Null Protocol Services UDP and Network Address Translators Optimizing for UDP Transport Layer Security (TLS) Encryption, Authentication, and Integrity HTTPS Everywhere TLS Handshake TLS Session Resumption Chain of Trust and Certificate Authorities Certificate Revocation TLS Record Protocol Optimizing for TLS Testing and Verification Performance of Wireless Networks\nIntroduction to Wireless Networks Ubiquitous Connectivity Types of Wireless Networks Performance Fundamentals of Wireless Networks Measuring Real- World Wireless Performance WiFi From Ethernet to a Wireless LAN WiFi Standards and Features Measuring and Optimizing WiFi Performance Optimizing for WiFi Networks Mobile Networks Brief History of the Gâ€™s Device Features and Capabilities Radio Resource Controller (RRC) End- to- End Carrier Architecture Packet Flow in a Mobile Network Heterogeneous Networks (HetNets) Real- World 3G, 4G, and WiFi Performance Optimizing for Mobile Networks Preserve Battery Power Eliminate Periodic and Inefficient Data Transfers Anticipate Network Latency Overhead Design for Variable Network Interface Availability Burst Your Data and Return to Idle Offload to WiFi Networks Apply Protocol and Application Best Practices HTTP\nBrief History of HTTP HTTP 0.9: The One- Line Protocol HTTP/1.0: Rapid Growth and Informational RFC HTTP/1.1: Internet Standard HTTP/2: Improving Transport Performance Primer on Web Performance Hypertext, Web Pages, and Web Applications Anatomy of a Modern Web Application Performance Pillars: Computing, Rendering, Networking Synthetic and Real- User Performance Measurement Browser Optimization HTTP/1.X Benefits of Keepalive Connections HTTP Pipelining Using Multiple TCP Connections Domain Sharding Measuring and Controlling Protocol Overhead Concatenation and Spriting Resource Inlining HTTP/2 Brief History of SPDY and HTTP/2 Design and Technical Goals Binary Framing Layer Streams, Messages, and Frames Request and Response Multiplexing Stream Prioritization One Connection Per Origin Flow Control Server Push Header Compression Upgrading to HTTP/2 Brief Introduction to Binary Framing Optimizing Application Delivery Optimizing Physical and Transport Layers Evergreen Performance Best Practices Optimizing for HTTP/1.x Optimizing for HTTP/2 Browser APIs and Protocols\nPrimer on Browser Networking Connection Management and Optimization Network Security and Sandboxing Resource and Client State Caching Application APIs and Protocols XMLHttpRequest Brief History of XHR Cross- Origin Resource Sharing (CORS) Downloading Data with XHR Uploading Data with XHR Monitoring Download and Upload Progress Streaming Data with XHR Real- Time Notifications and Delivery XHR Use Cases and Performance Server- Sent Events (SSE) intro\nSSE åº•å±‚å®ç°æ˜¯é€šè¿‡a single long-lived HTTP connection EventSource API\nEventSourceä¹Ÿå¯ä»¥åˆ©ç”¨CORSçš„æƒé™æœºåˆ¶è¿›è¡Œè·¨åŸŸè¯·æ±‚ SSEæ˜¯å†…å­˜é«˜æ•ˆçš„,å› ä¸ºå¯ä»¥ä¸ç”¨å°†æ‰€æœ‰æ”¶åˆ°çš„æ•°æ®æ”¾åˆ°å†…å­˜ä¸­,å¤„ç†è¿‡åçš„ä¿¡æ¯ç›´æ¥æ‰”æ‰,ä½†æ˜¯XHRå¿…é¡»è¦å…¨éƒ¨ç¼“å†²æ‰€æœ‰responseæ•°æ® SSEåº•å±‚å¯ä»¥è‡ªåŠ¨é‡è¿ ç°ä»£æµè§ˆå™¨åŸºæœ¬éƒ½æ”¯æŒSSE,é™¤äº†IEå’Œstock androidæµè§ˆå™¨. ä½†æ˜¯æµè§ˆå™¨åŸç”Ÿä¸æ”¯æŒ,ä¹Ÿå¯ä»¥é€šè¿‡JSåº“(polyfill)æ¥enable SSE. ä½†æ˜¯ polyfillåº•å±‚æ˜¯XHR polling,æ‰€ä»¥å¹¶ä¸èƒ½ä¿è¯é«˜æ•ˆ æ€»ç»“ä¸€ä¸‹ web stream çš„å‡ ç§æ–¹æ³• XHR polling XHR long-polling XHR streaming æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„XHR streaming,åŸç”Ÿæ”¯æŒæ›´ä¸ºé«˜æ ¡ Event Stream Protocol\nclient initiate regular HTTP request server responds with a custom text/event-stream content-type, then streams the UTF-8 encoded event data. protocal: Event payload is the value of one or more adjacent data fields. Event may carry an optional ID and an event type string. Event boundaries are marked by newlines. SSE Use Cases and Performance\nWebSocket WebSocket API WebSocket Protocol WebSocket Use Cases and Performance Performance Checklist WebRTC Standards and Development of WebRTC Audio and Video Engines Real- Time Network Transports Establishing a Peer- to- Peer Connection Delivering Media and Application Data DataChannel WebRTC Use Cases and Performance Performance Checklist ",
  "wordCount" : "1147",
  "inLanguage": "zh",
  "datePublished": "2018-01-20T12:18:32Z",
  "dateModified": "2018-01-20T12:18:32Z",
  "author":{
    "@type": "Person",
    "name": "lvbibir"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/chester-blog/posts/2018-01-20-%E8%AF%BB%E4%B9%A6-high-performance-browser-networking/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Chester's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://image.lvbibir.cn/blog/avatar.webp"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/chester-blog/" accesskey="h" title="Chester&#39;s Blog (Alt + H)">
                <img src="https://image.lvbibir.cn/blog/avatar.webp" alt="" aria-label="logo"
                    height="35">Chester&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li class="menu-item">
                <a href="http://localhost:1313/chester-blog/categories" title="ğŸ¤™ğŸ¿ åˆ†ç±»">
                    <span>ğŸ¤™ğŸ¿ åˆ†ç±»</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/chester-blog/tags" title="ğŸ·ï¸ æ ‡ç­¾">
                    <span>ğŸ·ï¸ æ ‡ç­¾</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/chester-blog/archives" title="ğŸ“ˆ å½’æ¡£">
                    <span>ğŸ“ˆ å½’æ¡£</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/chester-blog/talk" title="ğŸ’¬ è¯´è¯´">
                    <span>ğŸ’¬ è¯´è¯´</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/chester-blog/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ” æœç´¢</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/chester-blog/about" title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span>
                    
                </a>
            
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="http://localhost:1313/chester-blog/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/chester-blog/posts/">ğŸ“š æ–‡ç« </a></div>
            <h1 class="post-title">
                å‰ç«¯ç³»åˆ—ï¼ˆäºŒï¼‰ è¯»ä¹¦-high-performance-browser-networking
            </h1>
            <div class="post-meta">åˆ›å»º: 2018-01-20 | æ›´æ–°: 2018-01-20 | å­—æ•°: 1147å­— | ä½œè€…:lvbibir


                |&nbsp;æ ‡ç­¾:&nbsp;
                <ul class="post-tags-meta">
                    <a href="http://localhost:1313/chester-blog/tags/%E8%AF%BB%E4%B9%A6/">è¯»ä¹¦</a>
                </ul>

                
                <span id="busuanzi_container_page_pv">
                    &nbsp;|&nbsp;è®¿é—®:&nbsp;<span id="busuanzi_value_page_pv"></span>
                </span>

</div>
        </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#note" aria-label="note">note</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><h1 id="note">note<a hidden class="anchor" aria-hidden="true" href="#note">#</a></h1>
<ul>
<li>
<p>Networking 101</p>
<ul>
<li>Primer on Latency and Bandwidth
<ul>
<li>Speed Is a Feature
<ul>
<li>latency: The time from the source sending a packet to the destination receiving it</li>
<li>Bandwidth: Maximum throughput of a logical or physical communication path</li>
<li>network data rates: Network data rates are typically measured in bits per second (bps), whereas data rates for non-network equipment are typically shown in bytes per second (Bps). This is a common source of confusion, pay close attention to the units. For example, to put a 10 megabyte (MB) file &ldquo;on the wire&rdquo; over a 1Mbps link, we will need 80 seconds. 10MB is equal to 80Mb because there are 8 bits for every byte!</li>
</ul>
</li>
<li>The Many Components of Latency
<ul>
<li><a href="https://en.wikipedia.org/wiki/List_of_device_bit_rates" target="_blank" rel="noopener" style="color:#42b983";>https://en.wikipedia.org/wiki/List_of_device_bit_rates</a></li>
</ul>
</li>
<li>Speed of Light and Propagation Latency
<ul>
<li>CDN: Content delivery network (CDN) services provide many benefits, but chief among them is the simple observation that distributing the content around the globe, and serving that content from a nearby location to the client, enables us to significantly reduce the propagation time of all the data packets. We may not be able to make the packets travel faster, but we can reduce the distance by strategically positioning our servers closer to the users! Leveraging a CDN to serve your data can offer significant performance benefits.</li>
</ul>
</li>
<li>Last- Mile Latency</li>
<li>Bandwidth in Core Networks</li>
<li>Bandwidth at the Network Edge</li>
<li>Delivering Higher Bandwidth and Lower Latencies</li>
</ul>
</li>
<li>Building Blocks of TCP
<ul>
<li>introduction
<ul>
<li>The HTTP standard does not mandate TCP as the only transport protocol. If we wanted, we could deliver HTTP via a datagram socket (User Datagram Protocol or UDP), or any other transport protocol of our choice, but in practice all HTTP traffic on the Internet today is delivered via TCP due to the many great and convenient features it provides out of the box.</li>
</ul>
</li>
<li>Three- Way Handshake</li>
<li>Congestion Avoidance and Control</li>
<li>Bandwidth- Delay Product</li>
<li>Head- of- Line Blocking</li>
<li>Optimizing for TCP
<ul>
<li>Performance Checklist
<ul>
<li>Optimizing TCP performance pays high dividends, regardless of the type of application, for every new connection to your servers. A short list to put on the agenda:</li>
<li>Upgrade server kernel to latest version.</li>
<li>Ensure that cwnd size is set to 10.</li>
<li>Ensure that window scaling is enabled.</li>
<li>Disable slow-start after idle.</li>
<li>Investigate enabling TCP Fast Open.</li>
<li>Eliminate redundant data transfers.</li>
<li>Compress transferred data.</li>
<li>Position servers closer to the user to reduce roundtrip times.</li>
<li>Reuse TCP connections whenever possible.</li>
<li>Investigate &ldquo;TCP Tuning for HTTP&rdquo; recommendations.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Building Blocks of UDP
<ul>
<li>Null Protocol Services</li>
<li>UDP and Network Address Translators</li>
<li>Optimizing for UDP</li>
</ul>
</li>
<li>Transport Layer Security (TLS)
<ul>
<li>Encryption, Authentication, and Integrity</li>
<li>HTTPS Everywhere</li>
<li>TLS Handshake</li>
<li>TLS Session Resumption</li>
<li>Chain of Trust and Certificate Authorities</li>
<li>Certificate Revocation</li>
<li>TLS Record Protocol</li>
<li>Optimizing for TLS</li>
<li>Testing and Verification</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Performance of Wireless Networks</p>
<ul>
<li>Introduction to Wireless Networks
<ul>
<li>Ubiquitous Connectivity</li>
<li>Types of Wireless Networks</li>
<li>Performance Fundamentals of Wireless Networks</li>
<li>Measuring Real- World Wireless Performance</li>
</ul>
</li>
<li>WiFi
<ul>
<li>From Ethernet to a Wireless LAN</li>
<li>WiFi Standards and Features</li>
<li>Measuring and Optimizing WiFi Performance</li>
<li>Optimizing for WiFi Networks</li>
</ul>
</li>
<li>Mobile Networks
<ul>
<li>Brief History of the Gâ€™s</li>
<li>Device Features and Capabilities</li>
<li>Radio Resource Controller (RRC)</li>
<li>End- to- End Carrier Architecture</li>
<li>Packet Flow in a Mobile Network</li>
<li>Heterogeneous Networks (HetNets)</li>
<li>Real- World 3G, 4G, and WiFi Performance</li>
</ul>
</li>
<li>Optimizing for Mobile Networks
<ul>
<li>Preserve Battery Power</li>
<li>Eliminate Periodic and Inefficient Data Transfers</li>
<li>Anticipate Network Latency Overhead</li>
<li>Design for Variable Network Interface Availability</li>
<li>Burst Your Data and Return to Idle</li>
<li>Offload to WiFi Networks</li>
<li>Apply Protocol and Application Best Practices</li>
</ul>
</li>
</ul>
</li>
<li>
<p>HTTP</p>
<ul>
<li>Brief History of HTTP
<ul>
<li>HTTP 0.9: The One- Line Protocol</li>
<li>HTTP/1.0: Rapid Growth and Informational RFC</li>
<li>HTTP/1.1: Internet Standard</li>
<li>HTTP/2: Improving Transport Performance</li>
</ul>
</li>
<li>Primer on Web Performance
<ul>
<li>Hypertext, Web Pages, and Web Applications</li>
<li>Anatomy of a Modern Web Application</li>
<li>Performance Pillars: Computing, Rendering, Networking</li>
<li>Synthetic and Real- User Performance Measurement</li>
<li>Browser Optimization</li>
</ul>
</li>
<li>HTTP/1.X
<ul>
<li>Benefits of Keepalive Connections</li>
<li>HTTP Pipelining</li>
<li>Using Multiple TCP Connections</li>
<li>Domain Sharding</li>
<li>Measuring and Controlling Protocol Overhead</li>
<li>Concatenation and Spriting</li>
<li>Resource Inlining</li>
</ul>
</li>
<li>HTTP/2
<ul>
<li>Brief History of SPDY and HTTP/2</li>
<li>Design and Technical Goals</li>
<li>Binary Framing Layer</li>
<li>Streams, Messages, and Frames</li>
<li>Request and Response Multiplexing</li>
<li>Stream Prioritization</li>
<li>One Connection Per Origin</li>
<li>Flow Control</li>
<li>Server Push</li>
<li>Header Compression</li>
<li>Upgrading to HTTP/2</li>
<li>Brief Introduction to Binary Framing</li>
</ul>
</li>
<li>Optimizing Application Delivery
<ul>
<li>Optimizing Physical and Transport Layers</li>
<li>Evergreen Performance Best Practices</li>
<li>Optimizing for HTTP/1.x</li>
<li>Optimizing for HTTP/2</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Browser APIs and Protocols</p>
<ul>
<li>Primer on Browser Networking
<ul>
<li>Connection Management and Optimization</li>
<li>Network Security and Sandboxing</li>
<li>Resource and Client State Caching</li>
<li>Application APIs and Protocols</li>
</ul>
</li>
<li>XMLHttpRequest
<ul>
<li>Brief History of XHR</li>
<li>Cross- Origin Resource Sharing (CORS)</li>
<li>Downloading Data with XHR</li>
<li>Uploading Data with XHR</li>
<li>Monitoring Download and Upload Progress</li>
<li>Streaming Data with XHR</li>
<li>Real- Time Notifications and Delivery</li>
<li>XHR Use Cases and Performance</li>
</ul>
</li>
<li>Server- Sent Events (SSE)
<ul>
<li>
<p>intro</p>
<ul>
<li>SSE åº•å±‚å®ç°æ˜¯é€šè¿‡a single long-lived HTTP connection</li>
</ul>
</li>
<li>
<p>EventSource API</p>
<ul>
<li>EventSourceä¹Ÿå¯ä»¥åˆ©ç”¨CORSçš„æƒé™æœºåˆ¶è¿›è¡Œè·¨åŸŸè¯·æ±‚</li>
<li>SSEæ˜¯å†…å­˜é«˜æ•ˆçš„,å› ä¸ºå¯ä»¥ä¸ç”¨å°†æ‰€æœ‰æ”¶åˆ°çš„æ•°æ®æ”¾åˆ°å†…å­˜ä¸­,å¤„ç†è¿‡åçš„ä¿¡æ¯ç›´æ¥æ‰”æ‰,ä½†æ˜¯XHRå¿…é¡»è¦å…¨éƒ¨ç¼“å†²æ‰€æœ‰responseæ•°æ®</li>
<li>SSEåº•å±‚å¯ä»¥è‡ªåŠ¨é‡è¿</li>
<li>ç°ä»£æµè§ˆå™¨åŸºæœ¬éƒ½æ”¯æŒSSE,é™¤äº†IEå’Œstock androidæµè§ˆå™¨. ä½†æ˜¯æµè§ˆå™¨åŸç”Ÿä¸æ”¯æŒ,ä¹Ÿå¯ä»¥é€šè¿‡JSåº“(polyfill)æ¥enable SSE.
<ul>
<li>ä½†æ˜¯ polyfillåº•å±‚æ˜¯XHR polling,æ‰€ä»¥å¹¶ä¸èƒ½ä¿è¯é«˜æ•ˆ</li>
</ul>
</li>
<li>æ€»ç»“ä¸€ä¸‹ web stream çš„å‡ ç§æ–¹æ³•
<ul>
<li>XHR polling</li>
<li>XHR long-polling</li>
<li>XHR streaming</li>
<li>æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„XHR streaming,åŸç”Ÿæ”¯æŒæ›´ä¸ºé«˜æ ¡</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Event Stream Protocol</p>
<ul>
<li>client initiate regular HTTP request</li>
<li>server responds with a custom text/event-stream content-type, then streams the UTF-8 encoded event data.</li>
<li>protocal:
<ul>
<li>Event payload is the value of one or more adjacent data fields.</li>
<li>Event may carry an optional ID and an event type string.</li>
<li>Event boundaries are marked by newlines.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>SSE Use Cases and Performance</p>
</li>
</ul>
</li>
<li>WebSocket
<ul>
<li>WebSocket API</li>
<li>WebSocket Protocol</li>
<li>WebSocket Use Cases and Performance</li>
<li>Performance Checklist</li>
</ul>
</li>
<li>WebRTC
<ul>
<li>Standards and Development of WebRTC</li>
<li>Audio and Video Engines</li>
<li>Real- Time Network Transports</li>
<li>Establishing a Peer- to- Peer Connection</li>
<li>Delivering Media and Application Data</li>
<li>DataChannel</li>
<li>WebRTC Use Cases and Performance</li>
<li>Performance Checklist</li>
</ul>
</li>
</ul>
</li>
</ul>


        </div>

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/chester-blog/posts/2018-01-21-%E8%AF%BB%E4%B9%A6-understaning-ecmascript-6/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>å‰ç«¯ç³»åˆ—ï¼ˆä¸‰ï¼‰ -understaning-ECMAScript-6</span>
  </a>
  <a class="next" href="http://localhost:1313/chester-blog/posts/2018-01-12-ajax/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>å‰ç«¯ç³»åˆ—ï¼ˆä¸€ï¼‰ ajax</span>
  </a>
</nav>

        </footer>
    </div>



<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">ğŸ’¬è¯„è®º</span>
        <hr />
    </div>

    <div id="tcomment"></div>

    <script src="https://image.lvbibir.cn/js/1.6.40/twikoo.all.min.js">
    </script>
    

    

    <script>
        twikoo.init({
            envId: "https://twikoo.lvbibir.cn/", 
            el: "#tcomment",
            lang: 'zh-CN',
            
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
            
            
            
            
            
            
            
        });
    </script>

</div>
</article>
</main>


<footer class="footer">

    <a href="https://gohugo.io/" target="_blank">
        
        <img style="display: unset;" src="https://image.lvbibir.cn/blog/frame-hugo-blue.svg">
    </a>
    <a href="https://github.com/adityatelange/hugo-PaperMod" target="_blank">
        
        <img style="display: unset;" src="https://image.lvbibir.cn/blog/theme-papermod-lightgrey.svg">
    </a>
    <a href="https://cn.aliyun.com/" target="_blank">
        
        <img style="display: unset;" src="https://image.lvbibir.cn/blog/å›¾åºŠ-é˜¿é‡Œäº‘-orange.svg">
    </a>

    <br>

    <span id="runtime_span"></span>
    <script
        type="text/javascript">function show_runtime() { window.setTimeout("show_runtime()", 1000); X = new Date("11/11/2025 1:00:00"); Y = new Date(); T = (Y.getTime() - X.getTime()); M = 24 * 60 * 60 * 1000; a = T / M; A = Math.floor(a); b = (a - A) * 24; B = Math.floor(b); c = (b - B) * 60; C = Math.floor((b - B) * 60); D = Math.floor((c - C) * 60); runtime_span.innerHTML = "ç½‘ç«™å·²è¿è¡Œ" + A + "å¤©" + B + "å°æ—¶" + C + "åˆ†" + D + "ç§’" } show_runtime();</script>
    |
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        
        æ€»è®¿å®¢æ•°:  <span id="busuanzi_value_site_uv"></span>
        |
        æ€»è®¿é—®é‡:  <span id="busuanzi_value_site_pv"></span>
    </span>

    <br>

    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>


<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'å¤åˆ¶';

        function copyingDone() {
            copybutton.innerText = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                copybutton.innerText = 'å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            
            
            
            
            
            
            
            
            
            
            
            
            
            

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            ;
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild === container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName === "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>

</body>

</html>
